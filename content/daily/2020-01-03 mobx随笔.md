---
title: "mobx简介"
date: 2020-01-03T10:46:33+08:00
draft: false
---

## 介绍

mobx和redux类似，是响应式编程，实现状态的存储和管理。

主要是三步：

- 定义可观察的状态

- 创建试图来响应状态的变化

- 更改对应的状态

## Observable

第一步就是使用`observable`来标记可观察的变量。

`observable`的值可以是JS基本数据类型、引用类型、普通对象、类实例、数组和映射


## Computed

`computed`可以对`observable`作出响应

如果你想响应式的产生一个可以被其它 `observer` 使用的值，请使用 `computed`

```ts
import { observable, computed } from "mobx";

@observable
a = 2

@observable
b = 1

@computed
get total() {
  return a + b
}
```

装饰器可以在 `ES7` 或者 `TypeScript` 类属性中属性使用，将其转换成可观察的。


## Action

`computed`可以改变`observable`


action 装饰器/函数遵循 javascript 中标准的绑定规则。

action.bound 可以用来自动地将动作绑定到目标对象。

注意:

- 与 action 不同的是，(@)action.bound 不需要一个name参数，名称将始终基于动作绑定的属性。

- action.bound 不要和箭头函数一起使用；箭头函数已经是绑定过的并且不能重新绑定。

```ts

@observable code: number = 0;
@observable num: number = 1

@action 
increment = () => {
  this.code++
}

@action.bound
decrement() {
  this.code--
}

```